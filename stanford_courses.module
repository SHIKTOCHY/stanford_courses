<?php
/**
 * @file
 * Code for the Stanford Courses feature.
 */

include_once 'stanford_courses.features.inc';

/**
 * Implements hook_help().
 */
function stanford_courses_help($path, $arg) {
  switch ($path) {
    case 'admin/help#stanford_courses':
      $output = '<p>' . t('This module provides a turnkey solution for importing course information from !explorecourses. It includes a &quot;Stanford Course&quot; content type and a &quot;Stanford Course Section&quot; content type; two &quot;meta&quot; content types for importing (&quot;Stanford Course Importer&quot; and &quot;Stanford Course Section Importer&quot;); and Views of all courses and course sections. ', array('!explorecourses' => l('explorecourses.stanford.edu', 'http://explorecourses.stanford.edu'))) .'</p>';
      $output .= '<p>' . t('To import from a feed, first construct the search for the courses that you want to import at explorecourses.stanford.edu.') .'</p>';
      $output .= '<p>' . t('Paste the URL of your search into the URL box (e.g., &quot;http://explorecourses.stanford.edu/search?view=catalog&filter-coursestatus-Active=on...&quot; etc.) at !import and click the <strong>Import</strong> button to import <em>course</em> information. (The module will &quot;automagically&quot; convert the search URL into an XML URL.)', array('!import' => l('node/add/stanford-course-importer', 'node/add/stanford-course-importer'))) .'</p>';
      $output .= '<p>' . t('Be sure to use the <strong>http</strong> prefix for the URL, as <strong>https</strong> will trigger an error.') .'</p>';
      $output .= '<p>' . t('Paste the <em>same</em> search URL into the URL box at !import and click the <strong>Import</strong> button to import <em>course section</em> information.', array('!import' => l('node/add/stanford-course-section-importer', 'node/add/stanford-course-section-importer'))) .'</p>';
      $output .= '<p>' . t('<strong>Courses</strong> and <strong>Course Sections</strong> can have !nodereference relationships. ', array('!nodereference' => l('CCK Nodereference', 'https://drupal.org/project/cck')));
      $output .= t('These nodereferences get created &quot;automagically&quot; on import, based on a common <strong>Course ID</strong> value.') .'</p>';
      $output .= '<p>' . t('<strong>Note:</strong> A current limitation is that only one nodereference between a <strong>Course</strong> node and a <strong>Course Section</strong> is created. ');
      $output .= t('Users wishing to create automatic many-to-one nodereference relationships are encouraged to use the !cnr module. ', array('!cnr' => l('Corresponding Node Reference', 'https://drupal.org/project/cnr')));
      $output .= t('This module likely will be a requirement for future versions of the Stanford Courses module.') . '</p>';
      $output .= '<p>' . t('After importing course and course section nodes, two table Views are created at !stanfordcourses and !stanfordcoursesections, respectively.', array('!stanfordcourses' => l('stanford-courses', 'stanford-courses'), '!stanfordcoursesections' => l('stanford-course-sections', 'stanford-course-sections'))) .'</p>';
      return $output;
  }
}
